<?xml version="1.0" encoding="utf-8"?>
<FrameLayout
	xmlns:android="http://schemas.android.com/apk/res/android"
	xmlns:app="http://schemas.android.com/apk/res-auto">

	<com.aide.ui.re.CustomDrawerLayout
		android:layout_height="match_parent"
		android:layout_width="match_parent"
		android:id="@+id/drawer">

		<FrameLayout
			android:layout_width="match_parent"
			android:layout_height="match_parent"
			android:id="@+id/drawer_main">

			<LinearLayout
				android:layout_height="match_parent"
				android:layout_width="match_parent"
				android:orientation="vertical">

				<com.google.android.material.appbar.MaterialToolbar
					android:layout_height="wrap_content"
					android:layout_width="match_parent"
					android:id="@+id/toolbar"/>
				
				<com.google.android.material.tabs.TabLayout
					android:id="@+id/tab_layout"
					android:layout_width="match_parent"
					android:layout_height="wrap_content"
					android:layout_marginTop="8dp"
					app:tabMode="scrollable"
					app:tabGravity="fill"
					app:tabTextColor="?attr/colorOnSurface"
					app:tabSelectedTextColor="?attr/colorPrimary"
					app:tabIndicatorColor="?attr/colorPrimary"
					app:tabIndicatorHeight="2dp"
					app:tabPaddingStart="8dp" 
					app:tabPaddingEnd="8dp"  
					app:tabMinWidth="0dp" 
					
				/>
				
			

				<!-- ViewPager2：需要在Java代码中根据Tab数量控制显示/隐藏 -->
				<androidx.viewpager2.widget.ViewPager2
					android:id="@+id/view_pager"
					android:layout_width="match_parent"
					android:layout_height="0dp"
					android:layout_weight="1"/>

				<!-- 新增：Empty View (空状态) -->
				<!-- 初始隐藏，当Tab数量为0时显示 -->
				<LinearLayout
					android:id="@+id/empty_view"
					android:layout_width="match_parent"
					android:layout_height="0dp"
					android:layout_weight="1"
					android:orientation="vertical"
					android:gravity="center"
					android:visibility="gone">

					<TextView
						android:layout_width="wrap_content"
						android:layout_height="wrap_content"
						android:text="没有打开的文件"
						android:textSize="18sp"
						android:textColor="?attr/colorOnSurfaceVariant"
						android:layout_marginBottom="24dp"/>

					<com.google.android.material.button.MaterialButton
						android:id="@+id/btn_open_drawer"
						android:layout_width="wrap_content"
						android:layout_height="wrap_content"
						android:text="打开文件列表"
						style="@style/Widget.Material3.Button.OutlinedButton"/>

				</LinearLayout>

			</LinearLayout>

			<com.google.android.material.floatingactionbutton.FloatingActionButton
				android:layout_width="wrap_content"
				android:id="@+id/fab"
				android:src="@drawable/ic_baseline_add_24"
				android:layout_height="wrap_content"
				android:layout_gravity="bottom|end"
				android:layout_margin="16dp"/>

		</FrameLayout>

		<FrameLayout
			android:id="@+id/drawer_left"
			android:layout_width="match_parent"
			android:layout_height="match_parent"
			android:layout_gravity="start"
			android:background="?attr/colorSurface">

			<LinearLayout
				android:layout_width="match_parent"
				android:layout_height="match_parent"
				android:orientation="vertical">

				<LinearLayout
					android:layout_height="wrap_content"
					android:layout_width="match_parent"
					android:orientation="horizontal"
					android:gravity="center_vertical"
					android:paddingStart="10dp"
					android:paddingEnd="10dp"
					android:paddingBottom="4dp"
					android:paddingTop="4dp">

					<androidx.recyclerview.widget.RecyclerView
						android:id="@+id/breadcrumb_rv"
						android:layout_width="match_parent"
						android:layout_height="wrap_content"
						android:orientation="horizontal"
						android:overScrollMode="never"
						android:layout_weight="1.0"/>

					<ImageView
						android:background="?android:attr/selectableItemBackground"
						android:layout_height="wrap_content"
						android:layout_width="wrap_content"
						android:src="@drawable/ic_round_more_vert_24"
						android:id="@+id/file_browser_more"/>

				</LinearLayout>

				<androidx.recyclerview.widget.RecyclerView
					android:id="@+id/file_browser_rv"
					android:layout_width="match_parent"
					android:layout_height="match_parent"/>

			</LinearLayout>

		</FrameLayout>

	</com.aide.ui.re.CustomDrawerLayout>

</FrameLayout>

